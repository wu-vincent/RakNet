---
title: "RakNet Bluetooth Integration"
description: "Guide to integrating Bluetooth communication with RakNet across Windows, Linux, Mac, iPhone, and Android platforms."
---

## Windows bluetooth integration

### Can be supported in C using sockets and native libraries

Bluetooth support is relatively easy to add.

1.  Include "Ws2bth.h"
2.  Modify socket calls in SocketLayer.cpp, refer to the MSDN Bluetooth programming documentation.
3.  See the WinSocket Bluetooth programming examples for source code reference.
4.  There is also an API from Broadcom for Windows although it is unclear what the difference is between that and the native Windows system calls.

## Linux bluetooth integration

### Can be supported in C using the BlueZ library

Linux uses the [BlueZ](http://www.bluez.org) library to interface with Bluetooth devices. There is a great resource on BlueZ at the MIT CSAIL BlueZ introduction page.

## Mac bluetooth integration

### Indirectly send through IOBluetoothL2CAPChannelRef?

Mac Bluetooth support is provided through the IOBluetooth library, written in Objective-C. C equivalents are available by suffixing Ref to the name, for example IOBluetoothObjectRef contains the interface in C. You are expected to create instances of IOBluetoothL2CAPChannel which represent a communication channel. L2CAP is an unreliable communications channel. The equivalent reliable communications channel uses RFCOMM.

<Callout type="info">
It doesn't appear to be possible to get direct socket access to Bluetooth on the Mac. However, it may be possible to use RakNet and IOBluetoothL2CAPChannel together by using RakNet's SocketLayer::SetSocketLayerOverride(), and thereby changing RakNet's sendto and recvfrom calls to use IOBluetoothL2CAPChannel instead.
</Callout>

## iPhone bluetooth integration

### Bluetooth exposed through GameKit

The only interface for Bluetooth communications is through the higher level framework GameKit. GameKit uses Objective-C.

Similar to the Mac, it may be possible to indirectly send through RakNet using SocketLayer::SetSocketLayerOverride() through the sendData:toPeers method exposed by GKSession, and sending that data unreliably.

## Android bluetooth integration

### BlueZ used for underlying support, however not accessible to implementation

<Callout type="warn">
Bluetooth does NOT appear to be exposed by the Android NDK. The NDK's headers do not include Bluetooth-specific headers, tokens, etc.
</Callout>

-   Android uses BlueZ (w/ l2cap, etc.) as the underlying Bluetooth API (at the Linux OS level, underneath the Android Dalvik VM). All of the Android SDK (Java) Bluetooth classes end up using this API. The Android NDK cross-compiler provides access to many of the Android system's underlying libraries. However, Bluetooth does NOT appear to be exposed by the NDK. The NDK's headers do not include Bluetooth-specific headers, tokens, etc.
-   For a list of supported native libraries, see the Android NDK overview documentation.
-   There is indication in the forums and Stack Overflow that Bluetooth cannot be accessed directly via the NDK.
-   It looks like Bluetooth support via the NDK was possible at one point via a hack involving the HTC released BlueZ sources.
-   A possible work around is to use the Android SDK's Java Bluetooth libraries for discovery, establishing connections, etc. and delegating the actual communications streams to RakNet by passing the in/out streams to RakNet via a JNI bridge.
