---
title: "RakNet Bluetooth Integration"
description: "Guide to integrating Bluetooth communication with RakNet across Windows, Linux, Mac, iPhone, and Android platforms."
---

## Windows bluetooth integration

### Supported via C sockets and native libraries

Adding Bluetooth support is straightforward.

1.  Include `Ws2bth.h`
2.  Modify socket calls in `SocketLayer.cpp`, refer to the MSDN Bluetooth programming documentation.
3.  See the WinSocket Bluetooth programming examples for source code reference.
4.  There is also an API from Broadcom for Windows although it is unclear what the difference is between that and the native Windows system calls.

## Linux bluetooth integration

### Supported via the BlueZ library

Linux uses the [BlueZ](http://www.bluez.org) library to interface with Bluetooth devices. The MIT CSAIL BlueZ introduction page is a useful reference.

## Mac bluetooth integration

### Indirect access via IOBluetoothL2CAPChannelRef

Mac Bluetooth support is provided through the `IOBluetooth` library, written in Objective-C. C equivalents are available by suffixing `Ref` to the name (e.g., `IOBluetoothObjectRef`). Create instances of `IOBluetoothL2CAPChannel` to represent a communication channel. L2CAP is an unreliable channel; the equivalent reliable channel uses RFCOMM.

<Callout type="info">
Direct socket access to Bluetooth on Mac does not appear to be possible. However, RakNet and `IOBluetoothL2CAPChannel` may work together by using `SocketLayer::SetSocketLayerOverride()` to redirect RakNet's `sendto` and `recvfrom` calls to `IOBluetoothL2CAPChannel`.
</Callout>

## iPhone bluetooth integration

### Bluetooth exposed via GameKit

The only Bluetooth communications interface is through the higher-level framework `GameKit`, which uses Objective-C.

As with the Mac, it may be possible to send through RakNet indirectly using `SocketLayer::SetSocketLayerOverride()` via the `sendData:toPeers` method exposed by `GKSession`, sending data unreliably.

## Android bluetooth integration

### BlueZ used internally but not exposed to applications

<Callout type="warn">
Bluetooth does NOT appear to be exposed by the Android NDK. The NDK's headers do not include Bluetooth-specific headers, tokens, etc.
</Callout>

-   Android uses BlueZ (with l2cap, etc.) as the underlying Bluetooth API at the Linux OS level, beneath the Dalvik VM. All Android SDK (Java) Bluetooth classes use this API. The NDK cross-compiler provides access to many of the system's underlying libraries, but Bluetooth is not exposed. The NDK headers do not include Bluetooth-specific headers or tokens.
-   For a list of supported native libraries, see the Android NDK overview documentation.
-   Forum and Stack Overflow discussions indicate that Bluetooth cannot be accessed directly via the NDK.
-   Bluetooth support via the NDK was reportedly possible at one point through a hack involving HTC-released BlueZ sources.
-   A possible workaround: use the Android SDK's Java Bluetooth libraries for discovery and connection establishment, then delegate communication streams to RakNet by passing the in/out streams via a JNI bridge.
